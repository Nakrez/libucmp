#! /bin/sh

AC_VERSION="2.69"
PROJECT="libucmp"
VERSION="0.1"
MAIL="b.covolato@gmail.com"

echo "GEN tools/Makefile.am"

echo -n "SUBDIRS=" > tools/Makefile.am
ls -d tools/*/ | cut -f2 -d'/' >> tools/Makefile.am

echo "GEN configure.ac"

echo "# This file is automatically generated by libucmp configure" > configure.ac
echo "AC_PREREQ([$AC_VERSION])" >> configure.ac
echo "AC_INIT([$PROJECT], [$VERSION], [$MAIL])" >> configure.ac
echo "AM_INIT_AUTOMAKE([foreign -Wall -Werror subdir-objects color-tests])" >> configure.ac
echo "AM_SILENT_RULES([yes])" >> configure.ac
echo "AC_CONFIG_MACRO_DIR([m4])" >> configure.ac
echo "AC_LANG([C++])" >> configure.ac
echo "AC_PROG_CXX" >> configure.ac
echo "AM_PROG_AR" >> configure.ac
echo "AC_PROG_YACC" >> configure.ac
echo "AC_PROG_LEX" >> configure.ac
echo "LT_INIT" >> configure.ac
echo "DX_INIT_DOXYGEN(ucc, doc/Doxyfile, doc/gen)" >> configure.ac
echo "DX_DOXYGEN_FEATURE(ON)" >> configure.ac
echo "DX_DOT_FEATURE(ON)" >> configure.ac
echo "DX_HTML_FEATURE(ON)" >> configure.ac
echo "DX_CHM_FEATURE(OFF)" >> configure.ac
echo "DX_CHI_FEATURE(OFF)" >> configure.ac
echo "DX_MAN_FEATURE(ON)" >> configure.ac
echo "DX_RTF_FEATURE(OFF)" >> configure.ac
echo "DX_XML_FEATURE(OFF)" >> configure.ac
echo "DX_PDF_FEATURE(ON)" >> configure.ac
echo "DX_PS_FEATURE(OFF)" >> configure.ac
echo "AC_CONFIG_FILES([" >> configure.ac
find . -name "Makefile.am" | sed "s/\.\///" | sed "s/\.am//" >> configure.ac
echo "])" >> configure.ac
echo "AC_OUTPUT" >> configure.ac

autoreconf -ivf
